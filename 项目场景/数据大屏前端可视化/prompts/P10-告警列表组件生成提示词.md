# P10-告警列表组件生成提示词（通用版）

> **📌 用途**: 生成告警/消息列表组件，用于展示实时滚动的告警信息、通知消息等。

---

## 🎭 R - 角色定义

你是一位资深前端组件工程师，拥有8年企业级UI组件库开发经验，擅长：

- 实时数据展示组件开发
- 滚动动画与虚拟列表实现
- WebSocket数据推送处理
- 高性能列表渲染

---

## 📋 T - 任务描述

基于以下需求，生成告警列表组件。

### 输入材料

#### 材料1：组件需求

```
【组件名称】{填写组件名称，如"实时告警列表"}

【列表样式】
- 尺寸：{宽度} × {高度}px
- 行高：{每行高度}px
- 显示行数：{可见行数}行
- 背景：{列表背景色}

【告警项样式】
- 等级标识：{颜色标签/图标/背景色}
- 时间格式：{HH:mm:ss/相对时间}
- 消息截断：{单行省略/多行}
- 分隔线：{显示/隐藏}

【滚动效果】
- 滚动方式：{自动滚动/手动滚动/两者}
- 滚动速度：{滚动间隔}秒/条
- 新消息：{顶部插入/底部追加}
- 悬停暂停：{是/否}

【等级定义】
- critical/紧急：{颜色}，{图标}
- warning/警告：{颜色}，{图标}
- info/信息：{颜色}，{图标}

【交互效果】
- Hover：{行高亮/显示详情}
- 点击：{展开详情/跳转/触发事件}
- 筛选：{按等级筛选/无}

【数据结构】
{
  id: string,                           // 唯一标识
  level: 'critical' | 'warning' | 'info', // 告警等级
  message: string,                      // 告警内容
  time: string | Date,                  // 时间
  source?: string,                      // 来源系统（可选）
  acknowledged?: boolean                // 是否已确认（可选）
}
```

#### 材料2：技术要求

```
- 框架：{Vue 3/React 18}
- 样式：{SCSS/Tailwind}，使用设计系统CSS变量
- 数据来源：{WebSocket/轮询/Props传入}
- 最大条数：{最大保留条数，超出移除旧数据}
```

### 任务上下文

{描述组件的使用场景，如"用于大屏实时展示系统告警，支持WebSocket推送新告警"}

---

## 🎯 G - 目标与意图

### 核心目标

生成一个**实时更新、等级分明、交互友好**的告警列表组件，高效展示实时告警信息。

### 具体目标

1. **实时更新**: 支持WebSocket推送，新告警即时展示
2. **等级分明**: 通过颜色、图标区分告警等级
3. **交互友好**: 支持暂停滚动、点击查看详情
4. **性能优良**: 大量告警数据下保持流畅

### 业务价值

- **为运维人员**: 实时获取告警信息，快速响应
- **为监控中心**: 集中展示多系统告警，统一监控
- **为开发团队**: 可复用告警列表组件

### 成功标准

- ✅ 新告警插入动画流畅
- ✅ 鼠标悬停时滚动暂停
- ✅ 支持按等级筛选
- ✅ 代码包含完整TypeScript类型定义

---

## 📤 O - 输出要求

### 1. 输出结构

```
src/components/lists/
├── AlertList.vue          # 告警列表组件
├── AlertItem.vue          # 单条告警项
├── AlertList.types.ts     # 类型定义
└── useAlertList.ts        # 组合式函数（滚动逻辑）
```

### 2. 质量要求

#### 代码规范
- Props使用 `defineProps<T>()` 泛型定义
- 支持v-model绑定选中项
- 提供添加告警的方法（供WebSocket调用）

#### 性能规范
- 使用虚拟滚动（数据量大时）
- 限制最大条数，移除旧数据
- 动画使用CSS transform，避免重排

### 3. 格式规范

- Vue SFC格式
- 动画使用CSS transition/animation

### 4. 特别说明

#### 自动滚动实现

```typescript
const useAutoScroll = (options: { interval: number, pauseOnHover: boolean }) => {
  const isPaused = ref(false)
  const scrollRef = ref<HTMLElement>()
  
  let timer: number | null = null
  
  const startScroll = () => {
    timer = window.setInterval(() => {
      if (isPaused.value) return
      scrollRef.value?.scrollBy({ top: itemHeight, behavior: 'smooth' })
    }, options.interval)
  }
  
  const pauseScroll = () => { isPaused.value = true }
  const resumeScroll = () => { isPaused.value = false }
  
  onMounted(startScroll)
  onUnmounted(() => timer && clearInterval(timer))
  
  return { scrollRef, pauseScroll, resumeScroll }
}
```

#### 新告警插入动画

```scss
.alert-item {
  &-enter-active {
    animation: slideIn 0.3s ease-out;
  }
  
  &-leave-active {
    animation: slideOut 0.3s ease-in;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
```

#### WebSocket集成示例

```typescript
const useAlertWebSocket = (url: string) => {
  const alerts = ref<Alert[]>([])
  const MAX_ALERTS = 100
  
  const ws = new WebSocket(url)
  
  ws.onmessage = (event) => {
    const newAlert = JSON.parse(event.data)
    alerts.value.unshift(newAlert)
    
    // 限制最大条数
    if (alerts.value.length > MAX_ALERTS) {
      alerts.value = alerts.value.slice(0, MAX_ALERTS)
    }
  }
  
  return { alerts }
}
```

---

## ✨ 输出格式

直接输出完整的Vue组件代码，包含类型定义和组合式函数。
