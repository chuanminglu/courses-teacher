# P03-仪表盘组件生成提示词（通用版）

> **📌 用途**: 生成ECharts仪表盘（Gauge）组件，用于展示核心KPI指标如评分、完成率、占用率等。

---

## 🎭 R - 角色定义

你是一位资深数据可视化工程师，拥有8年ECharts/D3.js开发经验，擅长：

- ECharts高级图表定制开发
- 数据驱动的动态可视化
- 图表性能优化与大数据渲染
- 复杂交互动效实现

---

## 📋 T - 任务描述

基于以下需求，生成仪表盘（Gauge）组件。

### 输入材料

#### 材料1：组件需求

```
【组件名称】{填写组件名称，如"综合评分仪表盘"}

【视觉效果】
- 类型：{环形仪表盘/半圆仪表盘/速度仪表盘}
- 尺寸：{宽度}px × {高度}px
- 刻度范围：{最小值}-{最大值}
- 当前值：{示例值}（从props传入）
- 颜色渐变：{阈值1} {颜色1} → {阈值2} {颜色2} → {阈值3} {颜色3}

【动画效果】
- 初始化：{数字滚动/渐入/无}
- 指针：{平滑旋转/弹性/无}
- 进度条：{渐变填充/脉冲/无}

【交互效果】
- Hover：{显示Tooltip/边框高亮/无}
- 点击：{触发事件/跳转/无}

【数据结构】
{
  value: number,          // 当前值
  title: string,          // 标题
  unit: string,           // 单位
  thresholds?: {          // 阈值配置（可选）
    danger: number,       // 危险阈值
    warning: number,      // 警告阈值
  }
}
```

#### 材料2：技术要求

```
- 框架：{Vue 3/React 18}
- 图表库：{ECharts 5/其他}
- 样式：使用设计系统CSS变量
- 响应式：{支持/不需要}容器尺寸自适应
```

### 任务上下文

{描述组件的使用场景，如"用于大屏左侧区域展示核心KPI，需要突出显示数值状态"}

---

## 🎯 G - 目标与意图

### 核心目标

生成一个**视觉突出、动效流畅、数据驱动**的仪表盘组件，直观展示核心指标。

### 具体目标

1. **视觉突出**: 大数字+环形进度，一眼识别当前状态
2. **状态感知**: 通过颜色变化传达健康状态（正常/警告/危险）
3. **动效流畅**: 数字滚动+指针旋转，增强数据变化感知
4. **可复用**: 通过Props配置支持不同场景（评分/占用率/完成度）

### 业务价值

- **为运维人员**: 快速识别系统健康状态，无需阅读详细数据
- **为管理层**: 一目了然的KPI展示，支持决策
- **为开发团队**: 可复用组件，减少重复开发

### 成功标准

- ✅ 数字滚动动画流畅（60fps）
- ✅ 颜色阈值可通过Props配置
- ✅ 支持容器尺寸变化自动resize
- ✅ 代码包含完整TypeScript类型定义

---

## 📤 O - 输出要求

### 1. 输出结构

```
src/components/charts/
├── GaugeChart.vue         # 仪表盘组件
├── GaugeChart.types.ts    # 类型定义
└── useGaugeChart.ts       # 组合式函数（图表逻辑）
```

### 2. 质量要求

#### 代码规范
- Props使用 `defineProps<T>()` 泛型定义
- Emits使用 `defineEmits<T>()` 泛型定义
- 图表实例使用 `shallowRef` 避免深度响应

#### 性能规范
- 使用 `ResizeObserver` 监听容器变化
- 图表更新使用 `setOption({ notMerge: false })`
- 组件卸载时正确销毁图表实例

#### 可访问性
- 提供 `aria-label` 描述当前值
- 支持键盘导航（Tab聚焦）

### 3. 格式规范

- ECharts配置项分离到单独函数
- 动画参数使用设计系统变量
- 颜色使用CSS变量或ECharts渐变

### 4. 特别说明

#### 数字滚动实现

使用 `requestAnimationFrame` 实现平滑数字滚动：

```typescript
const animateNumber = (from: number, to: number, duration: number) => {
  const startTime = performance.now()
  const update = (currentTime: number) => {
    const elapsed = currentTime - startTime
    const progress = Math.min(elapsed / duration, 1)
    const eased = easeOutCubic(progress)
    currentValue.value = from + (to - from) * eased
    if (progress < 1) requestAnimationFrame(update)
  }
  requestAnimationFrame(update)
}
```

#### 阈值颜色映射

```typescript
const getStatusColor = (value: number, thresholds: Thresholds) => {
  if (value < thresholds.danger) return 'var(--color-danger)'
  if (value < thresholds.warning) return 'var(--color-warning)'
  return 'var(--color-success)'
}
```

---

## ✨ 输出格式

直接输出完整的Vue组件代码，包含类型定义和组合式函数。

---

## 📝 使用示例

将上述"输入材料"中的占位符替换为实际项目信息，例如：

```
【组件名称】综合评分仪表盘

【视觉效果】
- 类型：环形仪表盘
- 尺寸：200px × 200px
- 刻度范围：0-100
- 当前值：98
- 颜色渐变：0-60 红色 → 60-80 黄色 → 80-100 绿色
...
```

然后将完整提示词发送给AI即可。
