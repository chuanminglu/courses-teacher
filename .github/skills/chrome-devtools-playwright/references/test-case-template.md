# 功能测试用例文档模板

## 文档结构

```markdown
# {功能名称}功能测试用例清单

## 测试范围

- **系统**: {系统名称}
- **功能模块**: {功能模块路径}
- **关联用户故事**: {故事ID}
- **测试用例总数**: {数量}
  - P0用例: {数量}
  - P1用例: {数量}
  - P2用例: {数量}
- **可自动化用例数**: {数量}

## 测试覆盖矩阵

| 测试场景 | 对应用例 | 覆盖状态 |
|----------|----------|----------|
| 正常流程 | XXX-001 | ✅ 已覆盖 |
| 异常处理 | XXX-002 | ✅ 已覆盖 |

## 功能测试用例列表

(表格见下方)
```

## 测试用例表格模板

| 用例编号 | 系统 | 功能模块 | 用例概述 | 优先级 | 标签 | 前提条件 | 输入数据或操作 | 预期结果 | 测试结果 |
|---------|------|---------|---------|--------|------|---------|--------------|---------|---------|
| {编号} | {系统} | {模块} | {描述} | {P0/P1/P2} | {标签} | {条件} | {步骤} | {结果} | 待测试 |

## 字段说明

### 用例编号规则

**格式**: `{系统简称}-{功能模块简称}-{序号}`

**示例**:
- `SWAG-LOGIN-001`: Swag Labs系统，登录功能，第1个用例
- `SWAG-CART-001`: Swag Labs系统，购物车功能，第1个用例

### 优先级定义

| 优先级 | 说明 | 适用场景 |
|--------|------|----------|
| **P0** | 核心流程，阻塞性功能 | 登录、核心业务流程 |
| **P1** | 重要功能，影响用户体验 | 参数验证、异常处理 |
| **P2** | 辅助功能，优化类需求 | 性能、界面优化 |

### 标签分类

| 标签 | 说明 |
|------|------|
| `功能测试` | 正常业务流程 |
| `异常测试` | 异常场景、错误处理 |
| `边界测试` | 边界值、临界值 |
| `参数验证` | 输入参数格式验证 |
| `可自动化` | 可转化为E2E测试 |

### 测试步骤编写原则

**详细具体**:
- ✅ 正确: `点击【添加到购物车】按钮`
- ❌ 错误: `添加商品`

**包含验证点**:
- ✅ 正确: `验证购物车图标显示数字"2"`
- ❌ 错误: `检查购物车`

**量化预期结果**:
- ✅ 正确: `页面显示"登录成功"提示，跳转到首页`
- ❌ 错误: `登录成功`

## 完整示例

### 购物车功能测试用例

| 用例编号 | 系统 | 功能模块 | 用例概述 | 优先级 | 标签 | 前提条件 | 输入数据或操作 | 预期结果 | 测试结果 |
|---------|------|---------|---------|--------|------|---------|--------------|---------|---------|
| SWAG-CART-001 | Swag Labs | 商品管理-购物车 | 正常添加单个商品到购物车 | P0 | 功能测试,可自动化 | 1. 用户已登录<br>2. 购物车为空 | 1. 进入商品列表页<br>2. 点击"Sauce Labs Backpack"的【Add to cart】按钮 | 1. 按钮文字变为"Remove"<br>2. 购物车图标显示数字"1"<br>3. 商品已添加到购物车 | 待测试 |
| SWAG-CART-002 | Swag Labs | 商品管理-购物车 | 添加多个不同商品到购物车 | P0 | 功能测试,可自动化 | 1. 用户已登录<br>2. 购物车为空 | 1. 点击"Sauce Labs Backpack"的【Add to cart】<br>2. 点击"Sauce Labs Bike Light"的【Add to cart】 | 1. 两个商品的按钮都变为"Remove"<br>2. 购物车图标显示数字"2" | 待测试 |
| SWAG-CART-003 | Swag Labs | 商品管理-购物车 | 从购物车移除商品 | P1 | 功能测试,可自动化 | 1. 用户已登录<br>2. 购物车有1个商品 | 1. 点击商品的【Remove】按钮 | 1. 按钮文字变为"Add to cart"<br>2. 购物车图标消失或显示"0" | 待测试 |
| SWAG-CART-004 | Swag Labs | 商品管理-购物车 | 购物车页面验证商品信息 | P1 | 功能测试,可自动化 | 1. 购物车有2个商品 | 1. 点击购物车图标进入购物车页面<br>2. 验证商品列表 | 1. 页面标题显示"Your Cart"<br>2. 显示2个商品<br>3. 商品名称、价格正确 | 待测试 |

## 从文档到代码的转化

标记为`可自动化`的测试用例可以直接转化为Playwright测试代码：

**文档 → 代码对应关系**:

| 文档字段 | 代码元素 |
|----------|----------|
| 前提条件 | `test.beforeEach()` |
| 输入数据或操作 | 测试步骤 `await` 语句 |
| 预期结果 | `expect()` 断言 |
| 用例概述 | `test('描述', ...)` |

**转化示例**:

```typescript
// SWAG-CART-001 → 测试代码
test('正常添加单个商品到购物车', async ({ page }) => {
  // 前提条件
  await loginPage.login('standard_user', 'secret_sauce');
  
  // 输入数据或操作
  await inventoryPage.addToCart('sauce-labs-backpack');
  
  // 预期结果
  await expect(page.locator('[data-test="remove-sauce-labs-backpack"]')).toBeVisible();
  await expect(inventoryPage.cartBadge).toHaveText('1');
});
```
