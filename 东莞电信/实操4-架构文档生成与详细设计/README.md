# 实操4：基于大模型的架构文档生成与详细设计

## 🎯 演练目标

通过**数据标注园区访客管理系统**的架构设计实战，掌握：

1. 使用AI大模型进行系统架构设计的方法论
2. 基于RTGO提示词框架生成专业级SAD文档
3. AI辅助的详细设计产物生成（类图、时序图、组件图等）
4. 架构设计评审与迭代优化的AI赋能方法

## 📋 项目背景：数据标注园区访客管理系统

### 业务场景

数据标注园区需要构建一个现代化的访客管理系统，实现访客全流程线上化管理：

- 访客预约申请与审批
- 访客身份验证与签到
- 门禁权限自动同步
- 访客行为轨迹记录
- 数据统计与安全分析

### 核心需求

1. **高并发处理**：支持1000+访客同时预约和签到
2. **实时权限同步**：与门禁系统、车辆道闸实时联动
3. **多端支持**：微信公众号、企业微信、Web管理后台
4. **安全合规**：访客信息加密存储、权限分级管理
5. **智能化**：访客画像分析、异常行为预警

### 技术约束

- 必须与现有门禁系统集成（海康威视接口）
- 支持微信生态（公众号+企业微信）
- 数据存储符合等保三级要求
- 高峰期响应时间 < 3秒

## 📚 演练步骤与提示词清单

### 第一阶段：架构分析

| 步骤 | 提示词文件 | 输出产物 | 预计时间 |
|------|-----------|---------|---------|
| 1.1 需求到架构的AI转换 | [01-架构分析提示词.md](prompts/01-架构分析提示词.md) | 架构分析报告 | 10分钟 |

**核心能力训练**：
- ✅ 系统边界识别
- ✅ 核心领域划分
- ✅ 关键技术挑战分析
- ✅ 架构风格选择

### 第二阶段：SAD文档生成

| 步骤 | 提示词文件 | 输出产物 | 预计时间 |
|------|-----------|---------|---------|
| 2.1 结构化SAD文档生成 | [02-SAD文档生成提示词.md](prompts/02-SAD文档生成提示词.md) | 完整SAD文档框架 | 15分钟 |
| 2.2 逻辑视图详细设计 | [03-逻辑视图设计提示词.md](prompts/03-逻辑视图设计提示词.md) | 逻辑架构图+领域模型 | 15分钟 |

**核心能力训练**：
- ✅ IEEE 1016标准应用
- ✅ 4+1架构视图设计
- ✅ 领域驱动设计(DDD)

### 第三阶段：详细设计

| 步骤 | 提示词文件 | 输出产物 | 预计时间 |
|------|-----------|---------|---------|
| 3.1 核心领域类图设计 | [04-类图设计提示词.md](prompts/04-类图设计提示词.md) | 访客预约域类图 | 12分钟 |
| 3.2 关键流程时序图 | [05-时序图设计提示词.md](prompts/05-时序图设计提示词.md) | 访客签到时序图 | 12分钟 |
| 3.3 系统组件架构图 | [06-组件图设计提示词.md](prompts/06-组件图设计提示词.md) | 系统组件架构图 | 10分钟 |

**核心能力训练**：
- ✅ 面向对象设计(OOD)
- ✅ 时序交互建模
- ✅ 微服务组件拆分

### 第四阶段：架构评审

| 步骤 | 提示词文件 | 输出产物 | 预计时间 |
|------|-----------|---------|---------|
| 4.1 AI辅助架构评审 | [07-架构评审提示词.md](prompts/07-架构评审提示词.md) | 架构评审报告 | 15分钟 |

**核心能力训练**：
- ✅ 架构完整性检查
- ✅ 架构风险识别
- ✅ 改进方案设计

## 🎓 学习路径

### 初级（必修）
- ✅ 完成步骤1.1：架构分析
- ✅ 完成步骤2.1：SAD文档生成
- ✅ 完成步骤3.1：类图设计

### 中级（推荐）
- ✅ 完成全部7个步骤
- ✅ 对比AI输出与人工设计的差异
- ✅ 尝试优化提示词以提升输出质量

### 高级（挑战）
- ✅ 设计自己的提示词模板
- ✅ 将AI生成的设计落地实现
- ✅ 进行架构演进和重构设计

## 💡 最佳实践

### 提示词使用技巧

1. **分步骤生成**：不要一次性生成所有内容，先生成框架再填充细节
2. **上下文关联**：后续步骤要引用前面的输出结果
3. **明确约束**：在提示词中明确技术栈、性能指标、安全要求
4. **迭代优化**：第一次输出不满意，可以追加要求让AI优化

### 质量检查清单

- [ ] 架构设计是否覆盖所有核心需求？
- [ ] 非功能需求（性能、安全、可用性）是否充分考虑？
- [ ] 技术选型是否合理且可落地？
- [ ] 图表是否清晰且符合UML规范？
- [ ] 设计是否有明确的实施路径？

### 常见问题

**Q1：AI生成的架构图不符合项目实际情况怎么办？**
> A：在提示词中补充更多约束条件，如现有技术栈、团队技能、预算限制等。

**Q2：如何让AI输出符合公司规范的文档格式？**
> A：在提示词中提供公司文档模板示例，或明确格式要求（如章节编号规则）。

**Q3：AI生成的Mermaid图表渲染错误怎么办？**
> A：可以要求AI输出PlantUML格式，或手动调整Mermaid语法（通常是引号、箭头等符号问题）。

## 📖 扩展资源

### 推荐阅读
- 《软件架构实践》- 第4版
- 《领域驱动设计》- Eric Evans
- 《架构整洁之道》- Robert C. Martin

### 在线工具
- [Mermaid Live Editor](https://mermaid.live/) - 在线预览Mermaid图表
- [PlantUML Online](http://www.plantuml.com/plantuml/) - 在线预览PlantUML图表
- [Draw.io](https://app.diagrams.net/) - 手工绘制架构图

### 相关标准
- IEEE 1016-2009: 软件设计描述标准
- ISO/IEC 25010: 系统和软件质量模型
- 4+1架构视图模型

## 🚀 开始演练

**建议顺序**：

1. 📖 阅读本README，理解项目背景和演练目标
2. 📝 按顺序打开prompts目录下的提示词文件
3. 🤖 将提示词复制到AI工具（Deepseek/Claude/GPT-4）
4. ✅ 收集AI输出，整理成完整的架构文档
5. 🔍 使用评审提示词检查设计质量
6. 🔄 根据评审结果迭代优化

**预计总时长**：90-120分钟

---

**📌 提示**：所有提示词均遵循RTGO框架（Role-Task-Goal-Objective），确保AI输出的专业性和一致性。
