# 数据标注园区访客管理系统需求澄清问题清单

## 文档信息
- **文档版本**：V1.0
- **创建日期**：2025-11-27
- **关联需求**：数据标注园区智能化管理系统 - 访客管理模块需求

---

## 📊 问题统计

| 优先级 | 数量 | 说明 |
|--------|------|------|
| 🔴 P0 | 9个 | 必须在需求阶段澄清 |
| 🟡 P1 | 8个 | 重要但可在设计阶段确认 |
| 🟢 P2 | 4个 | 建议澄清或可延后确认 |
| **合计** | **21个** | - |

---

## 第1部分：功能需求澄清 (12个问题)

### 1.1 业务流程类

**Q1 🔴P0 来访申请的审批层级和审批规则**
- **问题**：来访申请的审批流程具体是几级审批？每一级的审批人是谁（被访人、部门主管、安保、其他）？审批节点的触发条件是什么？是否支持审批流程自定义配置（如不同访客类型走不同流程）？审批超时是否有自动处理机制（自动通过/拒绝/升级）？
- **关联需求**：【核心功能 > 1.全流程管理 > 审批流程自动化】
- **业务影响**：审批流程不明确会导致开发无法设计工作流引擎，影响核心业务流程实现
- **待确认点**：
  - 审批层级：几级审批？固定流程还是可配置？
  - 审批人规则：被访人是否必审？安保是否终审？
  - 审批时效：每个环节审批时限是多久？超时如何处理？
  - 特殊情况：节假日/非工作时间的审批流程如何处理？
  - 审批权限：是否支持审批人代理？拒绝后是否可重新提交？

---

**Q2 🔴P0 访客预约的时间规则和约束**
- **问题**：访客可以提前多久预约（提前几天到几小时）？预约时间是否有限制（如只能预约工作日8:00-18:00）？单次访问时长是否有限制（最短/最长）？是否支持跨天访问？访客逾期未离场如何处理（自动告警、强制签退、权限回收）？
- **关联需求**：【核心功能 > 1.全流程管理 > 来访申请线上提交】
- **业务影响**：时间规则不明确会导致访客预约混乱，影响安全管控
- **待确认点**：
  - 预约窗口：最早提前N天，最晚提前N小时？
  - 访问时段：是否限制仅工作日？是否限制时间段？
  - 访问时长：单次访问最短/最长时长？
  - 逾期处理：超时多久触发告警？告警给谁？如何处理？
  - 取消规则：访客/被访人是否可取消预约？取消时限？

---

**Q3 🔴P0 访客签到签退的具体方式和验证规则**
- **问题**：访客签到的具体方式有哪些（二维码扫描、人脸识别、身份证读卡器、NFC、其他）？是否需要多重验证（如身份证+人脸）？签到地点是否固定（前台、各门禁点）？是否必须签退（强制还是可选）？未签退的访客如何处理（权限是否自动回收）？
- **关联需求**：【核心功能 > 1.全流程管理 > 现场确认与签到】
- **业务影响**：签到方式不明确会影响硬件采购和开发方案
- **待确认点**：
  - 签到方式：支持哪几种签到方式？优先级如何？
  - 验证规则：是否需要核对照片？是否需要测温？
  - 签到地点：是否多点签到？是否需要定位验证？
  - 签退规则：是否强制签退？未签退的处理逻辑？
  - 异常处理：访客遗失二维码/手机没电如何签到？

---

**Q4 🟡P1 团队访客和批量预约的处理**
- **问题**：是否支持团队访客（多人一起来访）？如果支持，最多支持多少人？批量预约的操作方式是什么（Excel导入、表单批量填写）？团队访客的门禁权限是否统一下发？团队中某人审批不通过如何处理（全部拒绝还是部分通过）？
- **关联需求**：【核心功能 > 3.人员管理 > 访客人员信息管理】
- **业务影响**：不明确会导致批量场景无法处理，影响用户体验
- **待确认点**：
  - 是否支持团队访客？单次最多几人？
  - 批量预约方式：如何快速录入多人信息？
  - 审批逻辑：团队预约是整体审批还是单独审批？
  - 权限下发：团队成员的门禁权限是否一致？

---

**Q5 🟡P1 访客黑名单和白名单机制**
- **问题**：是否需要黑名单功能（禁止特定人员来访）？黑名单的触发条件是什么（手动添加、违规自动拉黑）？是否需要白名单功能（VIP访客免审批）？黑白名单的管理权限是谁（安保、管理员）？黑名单访客提交预约后如何处理（直接拒绝、提示原因、转人工审核）？
- **关联需求**：【核心功能 > 3.人员管理 > 访客人员信息管理】（隐含需求）
- **业务影响**：涉及安全管控核心功能，不明确会有安全风险
- **待确认点**：
  - 黑名单管理：如何添加/移除？是否有有效期？
  - 白名单管理：是否需要？白名单访客的审批流程？
  - 匹配规则：根据什么字段匹配（身份证、手机号、人脸）？
  - 处理逻辑：黑名单访客预约后的处理方式？

---

### 1.2 系统功能类

**Q6 🔴P0 访客信息采集的必填字段和可选字段**
- **问题**：访客预约时必须填写哪些信息（姓名、手机、身份证、照片、来访目的、访问时间、被访人，是否全部必填）？哪些是可选字段（车牌号、单位名称、随行人员）？身份证号是否需要实名验证（调公安接口）？照片是否必须（现场拍照还是提前上传）？是否需要采集健康码/行程卡（疫情相关）？
- **关联需求**：【核心功能 > 3.人员管理 > 访客人员信息管理】
- **业务影响**：字段不明确会导致数据模型设计错误，影响后续开发
- **待确认点**：
  - 必填字段清单：至少包含哪些信息？
  - 可选字段清单：建议采集哪些信息？
  - 验证规则：身份证号格式校验？是否实名核验？
  - 照片要求：是否必须？格式和大小要求？
  - 特殊字段：是否需要采集健康相关信息？

---

**Q7 🔴P0 企业部门管理的组织架构层级**
- **问题**：企业部门管理的组织架构有几层（如公司-部门-小组）？是否支持矩阵式组织结构（一人多部门）？部门信息如何维护（手动录入、从OA系统同步、Excel导入）？被访人必须关联到部门吗？部门负责人是否有特殊权限（如查看本部门所有访客）？
- **关联需求**：【核心功能 > 3.人员管理 > 企业部门管理】
- **业务影响**：组织架构设计影响权限模型和数据隔离
- **待确认点**：
  - 组织层级：几层组织结构？是否有集团-公司-部门？
  - 人员归属：一人是否可属于多部门？
  - 数据来源：部门信息如何维护？是否对接HR系统？
  - 权限设计：部门负责人的权限范围？

---

**Q8 🟡P1 访客数据报表的具体维度和指标**
- **问题**：访客数据报表需要展示哪些维度（时间、部门、访客类型、来访目的）？具体指标是什么（访客总量、访客量趋势、部门排行、高频访客、平均访问时长）？报表的时间粒度是什么（日报、周报、月报）？是否需要导出功能（Excel、PDF）？是否需要可视化图表（柱状图、折线图、饼图）？
- **关联需求**：【核心功能 > 5.数据分析 > 自动生成访客数据报表】
- **业务影响**：报表需求不明确会导致开发返工
- **待确认点**：
  - 统计维度：按哪些维度统计（时间/部门/访客类型）？
  - 统计指标：具体需要哪些指标？
  - 报表类型：日报/周报/月报？定时推送还是按需查询？
  - 展示方式：表格还是图表？需要哪些图表类型？
  - 导出功能：是否需要导出？支持哪些格式？

---

**Q9 🟢P2 访客行为统计的具体场景**
- **问题**：访客行为统计包括哪些行为（签到签退时间、停留时长、访问频次、访问轨迹）？是否需要分析访客活动热力图（需要门禁刷卡轨迹）？是否需要异常行为告警（如频繁进出、逾期不离、未授权区域闯入）？统计数据的用途是什么（安全管理、业务分析、决策支持）？
- **关联需求**：【核心功能 > 5.数据分析 > 访客行为统计】
- **业务影响**：影响数据采集范围和分析功能设计
- **待确认点**：
  - 行为类型：需要统计哪些访客行为？
  - 分析深度：是否需要轨迹分析？热力图？
  - 告警规则：哪些行为需要告警？阈值是多少？
  - 应用场景：统计数据的主要用途？

---

### 1.3 系统集成类

**Q10 🔴P0 门禁系统的品牌型号和接口协议**
- **问题**：现有门禁系统的品牌和型号是什么（海康威视、大华、宇视、其他）？门禁系统是否提供API接口？接口协议是什么（HTTP REST、SOAP、SDK、私有协议）？是否有API文档？门禁系统支持的权限类型是什么（永久权限、临时权限、时间段权限、门点权限）？是否需要支持多个门禁系统品牌？
- **关联需求**：【核心功能 > 2.系统集成 > 门禁系统联动】
- **业务影响**：门禁集成是核心功能，接口不明确会导致技术方案无法确定
- **待确认点**：
  - 设备品牌：门禁系统的品牌和型号？
  - 接口协议：提供什么类型的接口？有文档吗？
  - 权限类型：支持哪些权限配置？
  - 数据同步：是单向下发还是双向同步（需要回读刷卡日志）？
  - 异常处理：门禁系统离线时如何处理？

---

**Q11 🔴P0 车辆道闸系统的集成需求和业务规则**
- **问题**：车辆道闸系统是否必须集成？如果集成，道闸系统的品牌和接口是什么？访客预约时是否必须填写车牌号？是否支持无车访客？车辆权限如何下发（自动下发、手动审核）？是否需要车牌识别功能？是否需要访客车辆与访客身份绑定验证（人车匹配）？
- **关联需求**：【核心功能 > 2.系统集成 > 车辆道闸系统联动】
- **业务影响**：车辆管理涉及额外硬件集成和业务逻辑
- **待确认点**：
  - 是否必须集成车辆道闸？还是后期扩展功能？
  - 车牌号是否必填？如何处理无车访客？
  - 车辆权限：如何下发？是否需要审批？
  - 车牌识别：是否需要？识别准确率要求？
  - 人车绑定：是否需要验证访客与车辆的匹配？

---

**Q12 🟡P1 访客权限自动同步的时效性和异常处理**
- **问题**：访客权限同步到门禁/道闸系统的时效要求是多久（实时同步、5分钟内、审批后立即下发）？权限下发失败时如何处理（自动重试几次、人工介入、降级方案）？权限回收的时机是什么（访客签退后、访问时间到期后、手动撤销）？是否需要提供手动同步按钮（兜底方案）？
- **关联需求**：【核心功能 > 2.系统集成 > 访客权限自动同步】
- **业务影响**：同步时效和异常处理影响用户体验和系统可靠性
- **待确认点**：
  - 同步时效：权限下发的SLA要求？
  - 重试机制：失败后重试几次？间隔多久？
  - 降级方案：彻底失败后的处理方式？
  - 权限回收：什么时候回收权限？自动还是手动？
  - 手动干预：是否需要手动同步功能？

---

## 第2部分：非功能需求澄清 (5个问题)

### 2.1 性能要求

**Q13 🟡P1 系统的并发量和响应时间要求**
- **问题**：系统预期的日活用户数是多少（访客+员工）？高峰时段的并发用户数是多少（如上班高峰期8:00-9:00）？访客预约提交的响应时间要求是多少（P95延迟<3秒？）？访客数据查询的响应时间要求是多少？门禁权限下发的时效要求是多少（5分钟内？实时？）？
- **关联需求**：【非功能需求】（原始需求未明确提及）
- **业务影响**：性能要求影响技术架构选型和硬件资源配置
- **待确认点**：
  - 用户规模：日活访客数？员工数？
  - 并发能力：峰值QPS？并发用户数？
  - 响应时间：各核心功能的响应时间要求？
  - 数据量级：预计年访客预约量？历史数据保留多久？

---

**Q14 🟡P1 系统的可用性和容灾要求**
- **问题**：系统的可用性目标是多少（99%、99.5%、99.9%）？是否需要部署高可用架构（主备、双活）？数据备份策略是什么（每日备份、实时备份）？备份数据保留多久？系统故障时的RTO（恢复时间目标）和RPO（恢复点目标）是多少？是否需要异地容灾？
- **关联需求**：【非功能需求】（原始需求未明确提及）
- **业务影响**：可用性要求影响系统架构和运维成本
- **待确认点**：
  - 可用性目标：允许的年停机时间？
  - 容灾要求：是否需要异地容灾？
  - 备份策略：备份频率？保留周期？
  - 故障恢复：RTO和RPO的具体要求？

---

### 2.2 安全要求

**Q15 🔴P0 数据安全和隐私保护的合规要求**
- **问题**：系统是否需要满足特定的合规要求（等保二级、等保三级、个人信息保护法、GDPR）？访客敏感信息（身份证号、照片、手机号）是否需要加密存储？访客数据的访问权限如何控制（按角色、按部门、按数据范围）？访客数据是否允许导出？导出时是否需要脱敏？访客数据保留多久（1年、3年、永久）？
- **关联需求**：【非功能需求】（原始需求未明确提及，但涉及敏感数据）
- **业务影响**：合规要求影响系统安全设计和开发成本
- **待确认点**：
  - 合规要求：是否需要通过等保认证？等级？
  - 数据加密：哪些字段需要加密存储？
  - 访问控制：不同角色的数据访问权限？
  - 数据导出：是否允许？是否需要脱敏？
  - 数据保留：访客数据保留周期？删除策略？

---

**Q16 🟡P1 用户认证和权限管理的方式**
- **问题**：访客端的认证方式是什么（微信OAuth、手机号验证码、账号密码）？员工端的认证方式是什么（企业微信、SSO单点登录、账号密码）？是否需要多因子认证（MFA）？系统的角色有哪些（访客、员工、被访人、安保、管理员、其他）？每个角色的具体权限是什么（增删改查、审批、配置、导出）？
- **关联需求**：【非功能需求】（原始需求未明确提及）
- **业务影响**：认证和权限设计影响系统安全性和用户体验
- **待确认点**：
  - 访客认证：访客如何登录系统？
  - 员工认证：员工如何登录？是否对接企业AD/LDAP？
  - 角色定义：系统有哪些用户角色？
  - 权限矩阵：每个角色的功能权限清单？
  - MFA要求：是否需要双因子认证？

---

### 2.3 可用性要求

**Q17 🟢P2 系统的终端设备和浏览器兼容性**
- **问题**：访客端支持哪些终端（微信公众号H5、微信小程序、APP、PC Web）？优先级如何？员工端（管理后台）支持哪些浏览器（Chrome、Edge、Safari、IE11）？是否需要支持移动端管理后台？系统是否需要支持平板设备（iPad用于前台登记）？屏幕分辨率适配范围是多少？
- **关联需求**：【非功能需求】（原始需求未明确提及）
- **业务影响**：终端兼容性影响前端开发工作量
- **待确认点**：
  - 访客端：优先做哪个端？微信公众号还是小程序？
  - 管理后台：需要支持哪些浏览器？版本要求？
  - 移动办公：是否需要移动端管理后台？
  - 特殊设备：是否需要前台一体机？

---

## 第3部分：约束条件澄清 (3个问题)

**Q18 🔴P0 项目的技术栈和部署环境限制**
- **问题**：是否有指定的技术栈要求（后端语言、前端框架、数据库）？如果没有限制，是否有技术偏好？系统部署在哪里（阿里云、腾讯云、私有云、本地机房）？是否使用容器化部署（Docker、Kubernetes）？是否有现有的技术平台需要复用（如统一身份认证平台、消息平台）？
- **关联需求**：【约束条件】（原始需求未明确提及）
- **业务影响**：技术栈限制影响技术选型和团队组建
- **待确认点**：
  - 技术栈：是否有强制要求？还是自由选择？
  - 部署环境：云服务还是本地部署？
  - 容器化：是否要求容器化部署？
  - 平台复用：是否有现有平台需要集成？

---

**Q19 🟡P1 项目的预算和时间限制**
- **问题**：项目的总预算是多少（人力成本+硬件成本+第三方服务成本）？期望的上线时间是什么时候（MVP版本、完整版本）？是否可以分期交付（先上核心功能，后续迭代优化）？是否有硬性的时间节点（如某个重要活动前必须上线）？团队规模和人员配置是怎样的（后端、前端、测试、产品）？
- **关联需求**：【约束条件】（原始需求未明确提及）
- **业务影响**：预算和时间影响项目范围和实施策略
- **待确认点**：
  - 项目预算：总预算范围？
  - 时间节点：期望上线时间？是否有deadline？
  - 交付方式：是否接受分期交付？
  - 团队配置：开发团队规模和角色？

---

**Q20 🟢P2 第三方服务的选择和成本**
- **问题**：消息推送服务使用哪个（微信公众号、企业微信、阿里云短信、其他）？是否已有微信公众号（已认证？已申请模板消息权限）？对象存储服务使用哪个（阿里云OSS、腾讯云COS、七牛云）？第三方服务的预算是多少？是否接受按量付费还是包年包月？
- **关联需求**：【核心功能 > 4.消息推送】
- **业务影响**：第三方服务选择影响系统成本和功能实现
- **待确认点**：
  - 微信服务：是否已有公众号？是否已认证？
  - 短信服务：是否需要短信通知？预算？
  - 存储服务：照片存储使用哪个服务？
  - 付费模式：接受按量付费还是固定费用？

---

## 第4部分：边界和假设澄清 (2个问题)

**Q21 🟡P1 系统范围边界和不包含的功能**
- **问题**：系统是否包含以下功能：
  - 访客问卷调查（满意度调查、访问反馈）
  - 访客接待管理（会议室预定、茶水准备）
  - 访客物品寄存（行李寄存、快递代收）
  - 访客人脸库管理（人脸录入、比对、更新）
  - 访客Wi-Fi管理（临时Wi-Fi账号下发）
  - 访客打印服务（打印访客证、访客单）
  - 访客评分/信用体系（访客信用评分、黑名单自动触发）
- **关联需求**：【系统边界】（原始需求未明确说明不包含的功能）
- **业务影响**：边界不清晰会导致需求蔓延和项目范围失控
- **待确认点**：
  - 哪些功能在MVP范围内？
  - 哪些功能在V2.0考虑？
  - 哪些功能明确不做？

---

**Q22 🟢P2 关键假设和依赖条件**
- **问题**：系统设计基于以下假设，请确认是否成立：
  - 假设1：所有被访人都已录入系统（有员工账号）
  - 假设2：门禁系统提供标准API接口
  - 假设3：访客必须有智能手机（用于接收通知和扫码签到）
  - 假设4：园区内有稳定的4G/5G/Wi-Fi网络覆盖
  - 假设5：访客同意提供身份证、照片等敏感信息
  - 假设6：员工愿意使用微信/企业微信进行审批
- **关联需求**：【假设条件】（原始需求未明确说明）
- **业务影响**：假设不成立会导致方案不可行
- **待确认点**：
  - 哪些假设成立？
  - 哪些假设不成立？如何应对？
  - 是否有其他未列出的关键假设？

---

## 附录：问题优先级说明

### 🔴 P0 - 必须澄清
影响系统核心功能和基本架构，必须在需求阶段明确答案。包括：
- Q1 审批流程
- Q2 时间规则
- Q3 签到方式
- Q6 信息字段
- Q7 组织架构
- Q10 门禁集成
- Q11 车辆集成
- Q15 安全合规
- Q18 技术栈

### 🟡 P1 - 重要澄清  
影响用户体验、系统性能或安全性，应在详细设计阶段明确。包括：
- Q4 团队访客
- Q5 黑白名单
- Q8 数据报表
- Q12 权限同步
- Q13 性能要求
- Q14 可用性
- Q16 认证权限
- Q19 预算时间
- Q21 系统边界

### 🟢 P2 - 建议澄清
优化类需求或细节功能，可在实施阶段与业务方确认。包括：
- Q9 行为统计
- Q17 终端兼容
- Q20 第三方服务
- Q22 假设条件
