# æ­¥éª¤8ï¼šOpenAPI/Swaggeræ–‡æ¡£ç”Ÿæˆæç¤ºè¯ï¼ˆé€šç”¨ç‰ˆï¼‰

> **ğŸ“Œ ä½¿ç”¨åœºæ™¯**ï¼šåŸºäºAPIæ¥å£è®¾è®¡ï¼Œç”ŸæˆOpenAPI 3.0è§„èŒƒçš„Swaggeræ–‡æ¡£

---

## ğŸ­ R - è§’è‰²å®šä¹‰

ä½ æ˜¯ä¸€ä½èµ„æ·±APIæ–‡æ¡£å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰8å¹´OpenAPI/Swaggerè§„èŒƒç¼–å†™ç»éªŒï¼Œæ“…é•¿ï¼š

- **OpenAPI 3.0è§„èŒƒè®¾è®¡**: ç²¾é€šOpenAPI 3.0.xæ ‡å‡†ï¼Œèƒ½ç¼–å†™é«˜è´¨é‡çš„APIè§„èŒƒæ–‡æ¡£
- **è‡ªåŠ¨åŒ–æ–‡æ¡£å·¥å…·**: ç†Ÿç»ƒä½¿ç”¨Swagger UIã€ReDocã€Stoplightç­‰æ–‡æ¡£å·¥å…·
- **APIè®¾è®¡æœ€ä½³å®è·µ**: ç†Ÿæ‚‰RESTful APIè®¾è®¡åŸåˆ™ï¼Œèƒ½å°†APIè®¾è®¡è½¬æ¢ä¸ºæ ‡å‡†åŒ–è§„èŒƒ
- **Schemaå»ºæ¨¡èƒ½åŠ›**: æ“…é•¿ä½¿ç”¨JSON Schemaæè¿°å¤æ‚æ•°æ®ç»“æ„å’ŒéªŒè¯è§„åˆ™
- **æ–‡æ¡£è‡ªåŠ¨åŒ–é›†æˆ**: äº†è§£ä»OpenAPIç”ŸæˆSDKã€æµ‹è¯•ç”¨ä¾‹ã€Mock Serverçš„å·¥ä½œæµ

---

## ğŸ“‹ T - ä»»åŠ¡æè¿°

åŸºäºä»¥ä¸‹**APIæ¥å£è®¾è®¡æ–‡æ¡£**ï¼Œç”Ÿæˆç¬¦åˆOpenAPI 3.0è§„èŒƒçš„APIæ–‡æ¡£ï¼ˆYAMLæ ¼å¼ï¼‰ã€‚

### è¾“å…¥ææ–™

#### ææ–™1ï¼šAPIæ¥å£è®¾è®¡æ–‡æ¡£ï¼ˆå¿…éœ€ï¼‰

{è¿™é‡Œç²˜è´´æ­¥éª¤7ç”Ÿæˆçš„APIæ¥å£è®¾è®¡æ–‡æ¡£}

**æ–‡æ¡£åº”åŒ…å«**ï¼š
- æ¥å£æ¸…å•ï¼ˆè·¯å¾„ã€æ–¹æ³•ã€åŠŸèƒ½æè¿°ï¼‰
- æ¥å£è¯¦ç»†è®¾è®¡ï¼ˆè¯·æ±‚å‚æ•°ã€å“åº”ç»“æœã€ä¸šåŠ¡è§„åˆ™ï¼‰
- é€šç”¨è§„èŒƒï¼ˆç‰ˆæœ¬ç®¡ç†ã€è®¤è¯é‰´æƒã€æ•°æ®æ ¼å¼ã€é”™è¯¯ç ï¼‰
- æ•°æ®å­—å…¸ï¼ˆæšä¸¾å€¼ã€é€šç”¨æ¨¡å‹ï¼‰

#### ææ–™2ï¼šç³»ç»ŸåŸºç¡€ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰

å¦‚æœAPIè®¾è®¡æ–‡æ¡£ä¸­æœªåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯·è¡¥å……ï¼š
- ç³»ç»Ÿåç§°å’Œæè¿°
- APIæœåŠ¡å™¨åœ°å€ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒï¼‰
- è”ç³»äººä¿¡æ¯
- è®¸å¯è¯ä¿¡æ¯

### ä»»åŠ¡ä¸Šä¸‹æ–‡

- **ç›®æ ‡æ ¼å¼**: OpenAPI 3.0.3ï¼ˆYAMLæ ¼å¼ï¼Œæ›´æ˜“è¯»ï¼‰
- **å¿…é¡»ç¬¦åˆè§„èŒƒ**: [OpenAPI Specification v3.0.3](https://spec.openapis.org/oas/v3.0.3)
- **å¯è§†åŒ–å·¥å…·**: ç”Ÿæˆçš„YAMLå¯ç›´æ¥å¯¼å…¥Swagger UIã€Postmanã€Insomnia
- **è‡ªåŠ¨åŒ–ç”¨é€”**: å¯ç”¨äºç”ŸæˆMock Serverã€SDKã€æµ‹è¯•ç”¨ä¾‹

---

## ğŸ¯ G - ç›®æ ‡ä¸æ„å›¾

### æ ¸å¿ƒç›®æ ‡

å°†APIæ¥å£è®¾è®¡è½¬æ¢ä¸ºç¬¦åˆOpenAPI 3.0è§„èŒƒçš„æœºå™¨å¯è¯»æ–‡æ¡£ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–æµ‹è¯•ã€Mock Serverã€SDKç”Ÿæˆç­‰DevOpså·¥ä½œæµã€‚

### å…·ä½“ç›®æ ‡

1. **è§„èŒƒå®Œæ•´æ€§**: 100%ç¬¦åˆOpenAPI 3.0.3æ ‡å‡†ï¼ŒåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µï¼ˆ`info`, `paths`, `components`ï¼‰ï¼Œé€šè¿‡å®˜æ–¹éªŒè¯å™¨æ ¡éªŒ
2. **Schemaç²¾ç¡®æ€§**: å‡†ç¡®å®šä¹‰æ‰€æœ‰æ•°æ®æ¨¡å‹çš„JSON Schemaï¼ˆç±»å‹ã€æ ¼å¼ã€å¿…å¡«é¡¹ã€éªŒè¯è§„åˆ™ï¼‰ï¼Œç¡®ä¿ä¸APIè®¾è®¡æ–‡æ¡£ä¸€è‡´
3. **å¯è§†åŒ–å‹å¥½**: ç”Ÿæˆçš„YAMLå¯ç›´æ¥å¯¼å…¥Swagger UIå±•ç¤ºäº¤äº’å¼æ–‡æ¡£ï¼ŒåŒ…å«å®Œæ•´çš„ç¤ºä¾‹å€¼å’Œæè¿°ä¿¡æ¯
4. **è‡ªåŠ¨åŒ–å°±ç»ª**: æ”¯æŒä»OpenAPIç”ŸæˆPostman Collectionã€Mock Serverã€å®¢æˆ·ç«¯SDKï¼Œæ— éœ€æ‰‹å·¥è½¬æ¢

### ä¸šåŠ¡ä»·å€¼

- **ä¸ºå‰ç«¯å¼€å‘**: å¯¼å…¥Postman/Insomniaè‡ªåŠ¨ç”Ÿæˆè¯·æ±‚æ¨¡æ¿ï¼Œæä¾›Mock Serveråœ¨åç«¯æœªå¼€å‘æ—¶è¿›è¡Œå‰ç«¯å¼€å‘
- **ä¸ºåç«¯å¼€å‘**: è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£ç½‘ç«™ï¼ˆSwagger UIï¼‰ï¼Œå‡å°‘æ‰‹å·¥ç»´æŠ¤æ–‡æ¡£çš„å·¥ä½œé‡ï¼Œç¡®ä¿æ–‡æ¡£ä¸è®¾è®¡åŒæ­¥
- **ä¸ºæµ‹è¯•å›¢é˜Ÿ**: å¯¼å…¥åˆ°APIæµ‹è¯•å·¥å…·è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ¡†æ¶ï¼Œæä¾›SchemaéªŒè¯è§„åˆ™ç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯•æ–­è¨€
- **ä¸ºç¬¬ä¸‰æ–¹é›†æˆ**: æä¾›æ ‡å‡†åŒ–çš„æœºå™¨å¯è¯»è§„èŒƒï¼Œæ”¯æŒè‡ªåŠ¨ç”Ÿæˆå„è¯­è¨€SDKï¼ˆå¦‚é€šè¿‡OpenAPI Generatorï¼‰ï¼Œé™ä½é›†æˆæˆæœ¬

### æˆåŠŸæ ‡å‡†

- âœ… é€šè¿‡OpenAPIå®˜æ–¹éªŒè¯å™¨ï¼ˆå¦‚Swagger Editorï¼‰æ— é”™è¯¯
- âœ… æ‰€æœ‰æ¥å£çš„è¯·æ±‚å‚æ•°ã€å“åº”ç»“æœéƒ½æœ‰å®Œæ•´çš„JSON Schemaå®šä¹‰
- âœ… å¯¼å…¥Swagger UIåå¯æ­£å¸¸å±•ç¤ºå’Œäº¤äº’ï¼ˆTry it outåŠŸèƒ½å¯ç”¨ï¼‰
- âœ… æ‰€æœ‰æ•°æ®æ¨¡å‹å¯å¤ç”¨ï¼ˆé€šè¿‡`$ref`å¼•ç”¨`components/schemas`ï¼‰

---

## ğŸ“¤ O - è¾“å‡ºè¦æ±‚

### 1. è¾“å‡ºç»“æ„ï¼ˆOpenAPI 3.0.3 YAMLæ–‡æ¡£ï¼‰

```yaml
openapi: 3.0.3

# ========== ç¬¬1éƒ¨åˆ†ï¼šå…ƒä¿¡æ¯ ==========
info:
  title: {ç³»ç»Ÿåç§°} API
  description: |
    {ç³»ç»ŸåŠŸèƒ½æè¿°ï¼Œ1-2æ®µ}
    
    ## ä¸»è¦åŠŸèƒ½æ¨¡å—
    - {æ¨¡å—1}
    - {æ¨¡å—2}
    
    ## è®¤è¯æ–¹å¼
    {è®¤è¯è¯´æ˜ï¼Œå¦‚JWT Token}
  version: {ç‰ˆæœ¬å·ï¼Œå¦‚1.0.0}
  contact:
    name: {è”ç³»äºº/å›¢é˜Ÿåç§°}
    email: {è”ç³»é‚®ç®±}
  license:
    name: {è®¸å¯è¯ï¼Œå¦‚MIT}

# ========== ç¬¬2éƒ¨åˆ†ï¼šæœåŠ¡å™¨é…ç½® ==========
servers:
  - url: https://dev.example.com/api/v1
    description: å¼€å‘ç¯å¢ƒ
  - url: https://test.example.com/api/v1
    description: æµ‹è¯•ç¯å¢ƒ
  - url: https://api.example.com/v1
    description: ç”Ÿäº§ç¯å¢ƒ

# ========== ç¬¬3éƒ¨åˆ†ï¼šè®¤è¯é…ç½® ==========
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Tokenè®¤è¯ï¼Œæ ¼å¼: Bearer {token}
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: APIå¯†é’¥è®¤è¯ï¼ˆé€‚ç”¨äºç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆï¼‰

# ========== ç¬¬4éƒ¨åˆ†ï¼šæ¥å£è·¯å¾„ ==========
paths:
  /{resource}:  # ä»APIè®¾è®¡æ–‡æ¡£çš„"æ¥å£æ¸…å•"æå–
    {method}:   # GET/POST/PUT/DELETE
      summary: {æ¥å£ç®€è¦è¯´æ˜}
      description: {æ¥å£è¯¦ç»†è¯´æ˜ï¼Œæ¥è‡ª"ä¸šåŠ¡è¯´æ˜"}
      operationId: {æ“ä½œIDï¼Œå¦‚getAppointments}
      tags:
        - {æ¨¡å—æ ‡ç­¾ï¼Œå¦‚"è®¿å®¢é¢„çº¦"}
      security:
        - BearerAuth: []  # å¦‚éœ€è¦è®¤è¯
      
      # è¯·æ±‚å‚æ•°ï¼ˆæ¥è‡ªAPIè®¾è®¡æ–‡æ¡£çš„"è¯·æ±‚å‚æ•°"ç« èŠ‚ï¼‰
      parameters:
        - name: {å‚æ•°å}
          in: {path|query|header}
          required: {true|false}
          description: {å‚æ•°è¯´æ˜}
          schema:
            type: {string|integer|boolean|array}
            format: {date-time|email|uuidç­‰}
            enum: [{æšä¸¾å€¼åˆ—è¡¨}]  # å¦‚é€‚ç”¨
            minimum: {æœ€å°å€¼}      # å¦‚é€‚ç”¨
            maximum: {æœ€å¤§å€¼}      # å¦‚é€‚ç”¨
            pattern: {æ­£åˆ™è¡¨è¾¾å¼}  # å¦‚é€‚ç”¨
          example: {ç¤ºä¾‹å€¼}
      
      # è¯·æ±‚ä½“ï¼ˆPOST/PUTè¯·æ±‚ï¼Œæ¥è‡ª"è¯·æ±‚å‚æ•°-Bodyå‚æ•°"ï¼‰
      requestBody:
        required: true
        description: {è¯·æ±‚ä½“è¯´æ˜}
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/{ModelName}Request'
            examples:
              example1:
                summary: {ç¤ºä¾‹è¯´æ˜}
                value:
                  {ä»"è°ƒç”¨ç¤ºä¾‹"æå–JSONç¤ºä¾‹}
      
      # å“åº”ç»“æœï¼ˆæ¥è‡ªAPIè®¾è®¡æ–‡æ¡£çš„"å“åº”ç»“æœ"ç« èŠ‚ï¼‰
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: ä¸šåŠ¡çŠ¶æ€ç 
                    example: 0
                  message:
                    type: string
                    description: å“åº”æ¶ˆæ¯
                    example: "æˆåŠŸ"
                  data:
                    $ref: '#/components/schemas/{ModelName}Response'
              examples:
                success:
                  summary: æˆåŠŸç¤ºä¾‹
                  value:
                    {ä»"è°ƒç”¨ç¤ºä¾‹"çš„æˆåŠŸå“åº”æå–}
        
        '400':
          description: è¯·æ±‚å‚æ•°é”™è¯¯
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                validationError:
                  summary: å‚æ•°éªŒè¯å¤±è´¥
                  value:
                    code: 400001
                    message: "å‚æ•°æ ¡éªŒå¤±è´¥: æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®"
        
        '401':
          description: æœªæˆæƒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        
        '500':
          description: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

# ========== ç¬¬5éƒ¨åˆ†ï¼šæ•°æ®æ¨¡å‹ï¼ˆé‡è¦ï¼ï¼‰==========
components:
  schemas:
    # æ¥è‡ªAPIè®¾è®¡æ–‡æ¡£çš„"æ•°æ®å­—å…¸-é€šç”¨æ¨¡å‹"
    {ModelName}Request:
      type: object
      required:  # ä»APIè®¾è®¡æ–‡æ¡£çš„"å¿…å¡«é¡¹"æå–
        - {field1}
        - {field2}
      properties:
        {fieldName}:
          type: {string|integer|boolean|array|object}
          format: {date-time|email|uuidç­‰}
          description: {å­—æ®µè¯´æ˜ï¼ŒåŒ…å«éªŒè¯è§„åˆ™}
          minLength: {æœ€å°é•¿åº¦}
          maxLength: {æœ€å¤§é•¿åº¦}
          pattern: {æ­£åˆ™è¡¨è¾¾å¼}
          enum: [{æšä¸¾å€¼}]
          example: {ç¤ºä¾‹å€¼}
    
    {ModelName}Response:
      type: object
      properties:
        {ä»"å“åº”ç»“æœ"ç« èŠ‚æå–å­—æ®µå®šä¹‰}
    
    # åˆ†é¡µå“åº”æ¨¡å‹ï¼ˆå¦‚é€‚ç”¨ï¼‰
    PagedResponse:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/{ItemModel}'
        pagination:
          type: object
          properties:
            page:
              type: integer
              description: å½“å‰é¡µç 
            pageSize:
              type: integer
              description: æ¯é¡µè®°å½•æ•°
            total:
              type: integer
              description: æ€»è®°å½•æ•°
            totalPages:
              type: integer
              description: æ€»é¡µæ•°
    
    # ç»Ÿä¸€é”™è¯¯å“åº”æ¨¡å‹
    ErrorResponse:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: integer
          description: é”™è¯¯ç 
          example: 400001
        message:
          type: string
          description: é”™è¯¯æ¶ˆæ¯
          example: "å‚æ•°æ ¡éªŒå¤±è´¥"
        details:
          type: array
          description: è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
          items:
            type: object
            properties:
              field:
                type: string
                description: é”™è¯¯å­—æ®µ
              error:
                type: string
                description: é”™è¯¯åŸå› 

# ========== ç¬¬6éƒ¨åˆ†ï¼šæ ‡ç­¾åˆ†ç»„ ==========
tags:
  - name: {æ¨¡å—åç§°}
    description: {æ¨¡å—åŠŸèƒ½è¯´æ˜}
```

### 2. è´¨é‡è¦æ±‚

#### OpenAPIè§„èŒƒç¬¦åˆæ€§ï¼ˆå¼ºåˆ¶ï¼‰

- **ç‰ˆæœ¬å£°æ˜**: å¿…é¡»æ˜¯`openapi: 3.0.3`
- **å¿…éœ€å­—æ®µ**: `info`, `paths`å¿…é¡»å­˜åœ¨ï¼Œ`info.title`å’Œ`info.version`å¿…é¡»æœ‰å€¼
- **Schemaè§„èŒƒ**: æ‰€æœ‰æ•°æ®æ¨¡å‹å¿…é¡»ä½¿ç”¨æœ‰æ•ˆçš„JSON Schemaå…³é”®å­—ï¼ˆ`type`, `properties`, `required`ç­‰ï¼‰
- **å¼•ç”¨æ­£ç¡®æ€§**: æ‰€æœ‰`$ref`å¼•ç”¨å¿…é¡»æŒ‡å‘å­˜åœ¨çš„ç»„ä»¶ï¼ˆå¦‚`#/components/schemas/UserModel`ï¼‰
- **é€šè¿‡éªŒè¯å™¨**: ç”Ÿæˆçš„YAMLå¿…é¡»é€šè¿‡[Swagger Editor](https://editor.swagger.io/)éªŒè¯æ— é”™è¯¯

#### å®Œæ•´æ€§è¦æ±‚ï¼ˆå¼ºåˆ¶ï¼‰

- **å‚æ•°å®Œæ•´**: æ‰€æœ‰Path/Query/Header/Bodyå‚æ•°å¿…é¡»å®šä¹‰`type`, `description`, `example`
- **å“åº”å®Œæ•´**: è‡³å°‘å®šä¹‰200æˆåŠŸã€400å‚æ•°é”™è¯¯ã€401æœªæˆæƒã€500æœåŠ¡å™¨é”™è¯¯å››ç§å“åº”
- **Schemaå®Œæ•´**: æ‰€æœ‰è¯·æ±‚ä½“å’Œå“åº”ä½“å¿…é¡»æœ‰å¯¹åº”çš„Schemaå®šä¹‰ï¼ˆä¸èƒ½åªæœ‰`type: object`ï¼‰
- **ç¤ºä¾‹å®Œæ•´**: æ¯ä¸ªæ¥å£è‡³å°‘æœ‰1ä¸ªæˆåŠŸç¤ºä¾‹å’Œ1ä¸ªå¤±è´¥ç¤ºä¾‹

#### å¯è§†åŒ–å‹å¥½æ€§ï¼ˆå¼ºåˆ¶ï¼‰

- **æè¿°ä¿¡æ¯**: æ¯ä¸ªæ¥å£ã€å‚æ•°ã€å­—æ®µéƒ½å¿…é¡»æœ‰`description`
- **ç¤ºä¾‹å€¼**: æ‰€æœ‰å­—æ®µå¿…é¡»æœ‰`example`ï¼ˆå¸®åŠ©Swagger UIå±•ç¤ºï¼‰
- **æ ‡ç­¾åˆ†ç»„**: æ¥å£å¿…é¡»ç”¨`tags`åˆ†ç»„ï¼ˆå¦‚"è®¿å®¢é¢„çº¦"ã€"è®¿å®¢ç®¡ç†"ï¼‰
- **OperationId**: æ¯ä¸ªæ¥å£å¿…é¡»æœ‰å”¯ä¸€çš„`operationId`ï¼ˆç”¨äºç”ŸæˆSDKæ–¹æ³•åï¼‰

#### å¯è¿½æº¯æ€§ï¼ˆå¼ºåˆ¶ï¼‰

- **æ¥æºæ ‡æ³¨**: åœ¨YAMLæ³¨é‡Šä¸­æ ‡æ³¨ä¿¡æ¯æ¥æº
  ```yaml
  # æ¥è‡ªAPIè®¾è®¡æ–‡æ¡£ Â§2.1 æŸ¥è¯¢é¢„çº¦è®°å½•æ¥å£
  /appointments:
    get:
      ...
  ```
- **ç‰ˆæœ¬è®°å½•**: åœ¨`info.version`ä¸­ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼ˆå¦‚1.0.0ï¼‰

### 3. æ ¼å¼è§„èŒƒ

- **æ–‡ä»¶æ ¼å¼**: YAMLï¼ˆæ¯”JSONæ›´æ˜“è¯»ï¼Œæ”¯æŒæ³¨é‡Šï¼‰
- **ç¼©è¿›è§„èŒƒ**: ä½¿ç”¨2ç©ºæ ¼ç¼©è¿›ï¼ˆYAMLæ ‡å‡†ï¼‰
- **æ³¨é‡Šä½¿ç”¨**: åœ¨å…³é”®ç« èŠ‚æ·»åŠ åˆ†éš”æ³¨é‡Šï¼ˆå¦‚`# ===== æ¥å£è·¯å¾„ =====`ï¼‰
- **å‘½åè§„èŒƒ**:
  - Schemaåç§°: å¤§é©¼å³°ï¼ˆå¦‚`AppointmentRequest`ï¼‰
  - å­—æ®µåç§°: å°é©¼å³°ï¼ˆå¦‚`visitorName`ï¼‰
  - OperationId: å°é©¼å³°ï¼ˆå¦‚`getAppointments`ï¼‰
- **ä»£ç å—**: åœ¨Markdownè¾“å‡ºä¸­ç”¨\`\`\`yamlåŒ…è£¹

### 4. ç‰¹åˆ«è¯´æ˜

#### Schemaå¤ç”¨åŸåˆ™ï¼ˆé‡è¦ï¼ï¼‰

**âœ… æ­£ç¡®åšæ³•**ï¼ˆå¤ç”¨Schemaï¼‰:
```yaml
paths:
  /appointments:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAppointmentRequest'

components:
  schemas:
    CreateAppointmentRequest:
      type: object
      properties:
        visitorName:
          type: string
          description: è®¿å®¢å§“å
```

**âŒ é”™è¯¯åšæ³•**ï¼ˆå†…è”å®šä¹‰ï¼Œæ— æ³•å¤ç”¨ï¼‰:
```yaml
paths:
  /appointments:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object  # åº”è¯¥ç”¨$refå¼•ç”¨
              properties:
                visitorName:
                  type: string
```

**å¤ç”¨è§„åˆ™**:
- æ‰€æœ‰è¯·æ±‚ä½“ã€å“åº”ä½“çš„æ•°æ®æ¨¡å‹å¿…é¡»å®šä¹‰åœ¨`components/schemas`
- ä½¿ç”¨`$ref`å¼•ç”¨ï¼Œä¸è¦åœ¨`paths`ä¸­å†…è”å®šä¹‰å¤æ‚Schema
- é€šç”¨æ¨¡å‹ï¼ˆå¦‚åˆ†é¡µã€é”™è¯¯å“åº”ï¼‰å¿…é¡»å¤ç”¨

#### å‚æ•°éªŒè¯è§„åˆ™æ˜ å°„ï¼ˆé‡è¦ï¼ï¼‰

ä»APIè®¾è®¡æ–‡æ¡£çš„"æ•°æ®éªŒè¯è§„åˆ™"æ˜ å°„åˆ°JSON Schema:

| APIè®¾è®¡æ–‡æ¡£ | OpenAPI Schema |
|------------|----------------|
| å¿…å¡« | `required: [field]` |
| å­—ç¬¦ä¸²é•¿åº¦1-50 | `minLength: 1, maxLength: 50` |
| æ‰‹æœºå·æ ¼å¼ | `pattern: '^1[3-9]\d{9}$'` |
| æšä¸¾å€¼ï¼šå¾…å®¡æ ¸/å·²é€šè¿‡ | `enum: ['å¾…å®¡æ ¸', 'å·²é€šè¿‡']` |
| æ•´æ•°èŒƒå›´1-100 | `type: integer, minimum: 1, maximum: 100` |
| æ—¥æœŸæ—¶é—´æ ¼å¼ | `type: string, format: date-time` |
| é‚®ç®±æ ¼å¼ | `type: string, format: email` |

#### é”™è¯¯ç å®šä¹‰ï¼ˆé‡è¦ï¼ï¼‰

ä»APIè®¾è®¡æ–‡æ¡£çš„"é€šç”¨è§„èŒƒ-é”™è¯¯ç "æå–ï¼š

```yaml
components:
  schemas:
    ErrorCode:
      type: integer
      description: |
        é”™è¯¯ç è¯´æ˜ï¼š
        - 0: æˆåŠŸ
        - 400001~400999: å‚æ•°éªŒè¯é”™è¯¯
        - 401001~401999: è®¤è¯æˆæƒé”™è¯¯
        - 404001~404999: èµ„æºä¸å­˜åœ¨
        - 500001~500999: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
      enum:
        - 0
        - 400001
        - 401001
        - 404001
        - 500001
```

#### åˆ†é¡µæ¥å£å¤„ç†ï¼ˆå¦‚é€‚ç”¨ï¼‰

å¦‚æœæ¥å£æ”¯æŒåˆ†é¡µï¼Œå¿…é¡»ï¼š

1. åœ¨Queryå‚æ•°ä¸­å®šä¹‰åˆ†é¡µå‚æ•°ï¼š
```yaml
parameters:
  - name: page
    in: query
    schema:
      type: integer
      minimum: 1
      default: 1
  - name: pageSize
    in: query
    schema:
      type: integer
      minimum: 1
      maximum: 100
      default: 20
```

2. åœ¨å“åº”ä¸­åŒ…å«åˆ†é¡µä¿¡æ¯ï¼š
```yaml
responses:
  '200':
    content:
      application/json:
        schema:
          type: object
          properties:
            code:
              type: integer
            data:
              type: object
              properties:
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/Appointment'
                pagination:
                  $ref: '#/components/schemas/PaginationInfo'
```

### 5. è¾“å‡ºæ ¼å¼

ç›´æ¥è¾“å‡ºå®Œæ•´çš„OpenAPI YAMLæ–‡æ¡£ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```markdown
## OpenAPI 3.0è§„èŒƒæ–‡æ¡£

### æ–‡ä»¶å
`{æ¨¡å—åç§°}-openapi.yaml`

### å®Œæ•´YAMLå†…å®¹

\`\`\`yaml
{å®Œæ•´çš„OpenAPI YAMLæ–‡æ¡£}
\`\`\`

### éªŒè¯æ–¹å¼

1. å¤åˆ¶ä¸Šè¿°YAMLå†…å®¹
2. æ‰“å¼€ [Swagger Editor](https://editor.swagger.io/)
3. ç²˜è´´åˆ°å·¦ä¾§ç¼–è¾‘å™¨
4. å³ä¾§ä¼šå®æ—¶å±•ç¤ºAPIæ–‡æ¡£ï¼ˆå¦‚æœ‰é”™è¯¯ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºï¼‰

### å¯¼å…¥æ–¹å¼

**å¯¼å…¥Postman**:
1. Postman â†’ Import â†’ Raw text
2. ç²˜è´´YAMLå†…å®¹
3. è‡ªåŠ¨ç”ŸæˆCollection

**å¯¼å…¥Swagger UI**:
1. å°†YAMLä¿å­˜ä¸ºæ–‡ä»¶
2. éƒ¨ç½²åˆ°Swagger UIï¼ˆå¦‚Dockerï¼‰
3. è®¿é—® `http://localhost:8080`

### ä¸‹ä¸€æ­¥æ“ä½œ

- è¿›å…¥æ­¥éª¤9ï¼šç”Ÿæˆæ¥å£æµ‹è¯•ç”¨ä¾‹
```

ä¸è¦æœ‰ä»»ä½•å‰è¨€æˆ–è§£é‡Šï¼Œç›´æ¥è¾“å‡ºæ–‡æ¡£ã€‚

---

## âœ¨ ä½¿ç”¨è¯´æ˜

### å¦‚ä½•ä½¿ç”¨æ­¤æç¤ºè¯

1. **å‡†å¤‡è¾“å…¥ææ–™**
   - APIæ¥å£è®¾è®¡æ–‡æ¡£ï¼ˆä»æ­¥éª¤7çš„è¾“å‡ºè·å–ï¼‰

2. **å¤åˆ¶æç¤ºè¯**
   - ä»"ä½ æ˜¯ä¸€ä½èµ„æ·±APIæ–‡æ¡£å·¥ç¨‹å¸ˆ"å¼€å§‹

3. **ç²˜è´´åˆ°AIå·¥å…·**
   - å°†æç¤ºè¯å’ŒAPIè®¾è®¡æ–‡æ¡£ä¸€èµ·æäº¤

4. **ç”ŸæˆOpenAPIæ–‡æ¡£**
   - AIå°†ç”Ÿæˆç¬¦åˆOpenAPI 3.0.3çš„YAMLæ–‡æ¡£

5. **éªŒè¯è§„èŒƒæ­£ç¡®æ€§**ï¼ˆé‡è¦ï¼ï¼‰
   - **åœ¨çº¿éªŒè¯**: å¤åˆ¶YAMLåˆ°[Swagger Editor](https://editor.swagger.io/)ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
   - **Schemaæ£€æŸ¥**: ç¡®è®¤æ‰€æœ‰`$ref`å¼•ç”¨æœ‰æ•ˆï¼ŒSchemaå®šä¹‰å®Œæ•´
   - **ç¤ºä¾‹éªŒè¯**: åœ¨Swagger UIä¸­ç‚¹å‡»"Try it out"ï¼Œæ£€æŸ¥ç¤ºä¾‹å€¼æ˜¯å¦åˆç†

6. **å¯¼å…¥æµ‹è¯•å·¥å…·**
   - **Postman**: Import â†’ Raw text â†’ ç²˜è´´YAML
   - **Insomnia**: Import â†’ From Clipboard â†’ ç²˜è´´YAML
   - **Swagger UI**: ä¿å­˜ä¸º`.yaml`æ–‡ä»¶ï¼Œéƒ¨ç½²åˆ°Swagger UI

7. **ä¿å­˜æ–‡æ¡£**
   - ä¿å­˜åˆ°`outputs/08-{æ¨¡å—åç§°}-openapi.yaml`

### é¢„æœŸç”Ÿæˆæ—¶é—´

- AIç”Ÿæˆï¼š3-5åˆ†é’Ÿ
- åœ¨çº¿éªŒè¯ï¼š5-10åˆ†é’Ÿ
- å¯¼å…¥æµ‹è¯•å·¥å…·ï¼š5åˆ†é’Ÿ

### ä¸‹ä¸€æ­¥æ“ä½œ

OpenAPIæ–‡æ¡£ç”Ÿæˆåï¼š
1. è¿›å…¥æ­¥éª¤9ï¼šç”Ÿæˆæ¥å£æµ‹è¯•ç”¨ä¾‹ï¼ˆåŸºäºOpenAPIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆï¼‰

---

**ğŸ“Œ é‡è¦æé†’**ï¼š
- OpenAPIæ–‡æ¡£æ˜¯æœºå™¨å¯è¯»çš„è§„èŒƒï¼Œå¿…é¡»ä¸¥æ ¼ç¬¦åˆOpenAPI 3.0.3æ ‡å‡†
- æ‰€æœ‰æ•°æ®æ¨¡å‹å¿…é¡»å®šä¹‰åœ¨`components/schemas`å¹¶é€šè¿‡`$ref`å¼•ç”¨
- ç¤ºä¾‹å€¼éå¸¸é‡è¦ï¼Œå½±å“Swagger UIçš„å±•ç¤ºæ•ˆæœå’ŒMock Serverçš„è´¨é‡
- ä¿å­˜YAMLæ–‡ä»¶æ—¶æ³¨æ„ç¼©è¿›ï¼ˆä½¿ç”¨2ç©ºæ ¼ï¼Œä¸è¦ç”¨Tabï¼‰
